; (function ($, elementor) {

    $(window).on("elementor/frontend/init", function () {

        elementorFrontend.hooks.addAction(
            "frontend/element_ready/sixam-content-toggle.default",
            function ($scope) {

                // Opened url with activated tab
                toggle_by_url();


                $('a').click(function () {
                    const clicked_href = $(this).attr('href');
                    const first_option_to_match_href = $scope.find('.ct_wrapper a.ct_toggle_item.first').attr('href');
                    const second_option_to_match_href = $scope.find('.ct_wrapper a.ct_toggle_item.second').attr('href');

                    if (clicked_href.match(first_option_to_match_href) || clicked_href.match(second_option_to_match_href)) {
                        setTimeout(() => {
                            toggle_by_url();
                        }, 500);
                    }
                })

                // Show tab id to url
                $scope.find('.ct_wrapper a.ct_toggle_item').click(function (e) {
                    var href = $(this).attr('href');
                    const page_name = window.location.pathname;
                    const page_url = page_name + href;

                    window.history.pushState(href, '', page_url);
                })

                // Opened url with activated tab
                function toggle_by_url() {
                    const currentUrl = window.location.href;
                    const currentSection = (currentUrl.split('#')[1]);
					
					
					
					if(currentSection != 'annual' && currentSection != 'lifetime'){
						return;
					}
					
                    if (typeof currentSection !== 'undefined' && currentSection != null) {						
						
                        const target_tab = $scope.find('a[href=#' + currentSection + ']');
												
                        const target_section = $scope.find('.ct_wrapper #ct_' + currentSection);

                        // $scope.find('ct_wrapper').scrollTop();
                        $('html, body').animate({
                            scrollTop: $('#content_toggle_section').offset().top - 20
                        }, 100);


                        target_tab.addClass('active');
                        target_tab.parent().siblings().children('a').removeClass('active');
                        target_section.addClass('show active');
                        target_section.siblings().removeClass('show active');
                    }
                }

            }
        );
    });



})(jQuery, window.elementorFrontend);